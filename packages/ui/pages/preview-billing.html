<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Billing Settings Preview</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gray-100">
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // Icons
    const CreditCardIcon = () => (
      <svg className="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor">
        <path strokeLinecap="round" strokeLinejoin="round" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z" />
      </svg>
    );

    const DocumentTextIcon = () => (
      <svg className="h-6 w-6 mr-2 text-indigo-600" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor">
        <path strokeLinecap="round" strokeLinejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
      </svg>
    );

    const ChartBarIcon = () => (
      <svg className="h-6 w-6 mr-2 text-indigo-600" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor">
        <path strokeLinecap="round" strokeLinejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z" />
      </svg>
    );

    // Mock Data
    const PLANS = {
      free: { name: 'Free', description: 'Perfect for individual note-takers getting started' },
      pro: { name: 'Pro', description: 'For professionals and small teams who need more power' },
      enterprise: { name: 'Enterprise', description: 'For large organizations with custom needs' },
    };

    const mockSubscription = {
      id: 'sub_123',
      plan_tier: 'pro',
      status: 'active',
      current_period_end: '2025-02-15',
      cancel_at: null,
      trial_end: null,
    };

    const mockUsage = {
      current: {
        notes: 1247,
        storage_bytes: 8589934592, // ~8 GB
        team_members: 4,
      },
      limits: {
        maxNotes: 10000,
        maxStorageGB: 50,
        maxTeamMembers: 10,
      },
      period: {
        start: '2025-01-15',
        end: '2025-02-15',
      },
    };

    const mockInvoices = [
      { id: 'inv_001', invoice_number: 'INV-2025-001', status: 'paid', total: 1200, currency: 'usd', created_at: '2025-01-15', invoice_pdf: '#' },
      { id: 'inv_002', invoice_number: 'INV-2024-012', status: 'paid', total: 1200, currency: 'usd', created_at: '2024-12-15', invoice_pdf: '#' },
      { id: 'inv_003', invoice_number: 'INV-2024-011', status: 'paid', total: 1200, currency: 'usd', created_at: '2024-11-15', invoice_pdf: '#' },
      { id: 'inv_004', invoice_number: 'INV-2024-010', status: 'paid', total: 1200, currency: 'usd', created_at: '2024-10-15', invoice_pdf: '#' },
    ];

    function BillingSettings() {
      const [subscription] = useState(mockSubscription);
      const [invoices] = useState(mockInvoices);
      const [usage] = useState(mockUsage);

      const plan = PLANS[subscription.plan_tier];

      return (
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <h1 className="text-3xl font-bold text-gray-900 mb-8">Billing & Subscription</h1>

          {/* Current Plan */}
          <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8">
            <div className="flex items-center justify-between">
              <div>
                <h2 className="text-xl font-semibold text-gray-900">Current Plan</h2>
                <p className="mt-1 text-3xl font-bold text-indigo-600">{plan.name}</p>
                <p className="mt-1 text-sm text-gray-600">{plan.description}</p>

                <div className="mt-4 space-y-1 text-sm text-gray-600">
                  <p>
                    Status:{' '}
                    <span className={`font-medium ${subscription.status === 'active' ? 'text-green-600' : 'text-yellow-600'}`}>
                      {subscription.status}
                    </span>
                  </p>
                  <p>
                    Renews on: {new Date(subscription.current_period_end).toLocaleDateString()}
                  </p>
                </div>
              </div>

              <div className="flex flex-col space-y-3">
                <button className="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-500">
                  <CreditCardIcon />
                  Manage Billing
                </button>
                <button className="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">
                  Cancel Subscription
                </button>
              </div>
            </div>
          </div>

          {/* Usage Stats */}
          <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8">
            <h2 className="text-xl font-semibold text-gray-900 mb-4 flex items-center">
              <ChartBarIcon />
              Current Usage
            </h2>

            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              {/* Notes */}
              <div>
                <p className="text-sm text-gray-600">Notes</p>
                <div className="mt-2">
                  <div className="flex items-baseline">
                    <span className="text-2xl font-bold text-gray-900">
                      {usage.current.notes.toLocaleString()}
                    </span>
                    <span className="ml-2 text-sm text-gray-500">
                      / {usage.limits.maxNotes.toLocaleString()}
                    </span>
                  </div>
                  <div className="mt-2 w-full bg-gray-200 rounded-full h-2">
                    <div
                      className="bg-indigo-600 h-2 rounded-full"
                      style={{ width: `${(usage.current.notes / usage.limits.maxNotes) * 100}%` }}
                    />
                  </div>
                </div>
              </div>

              {/* Storage */}
              <div>
                <p className="text-sm text-gray-600">Storage</p>
                <div className="mt-2">
                  <div className="flex items-baseline">
                    <span className="text-2xl font-bold text-gray-900">
                      {(usage.current.storage_bytes / 1024 / 1024 / 1024).toFixed(1)}
                    </span>
                    <span className="ml-2 text-sm text-gray-500">
                      / {usage.limits.maxStorageGB} GB
                    </span>
                  </div>
                  <div className="mt-2 w-full bg-gray-200 rounded-full h-2">
                    <div
                      className="bg-indigo-600 h-2 rounded-full"
                      style={{ width: `${((usage.current.storage_bytes / 1024 / 1024 / 1024) / usage.limits.maxStorageGB) * 100}%` }}
                    />
                  </div>
                </div>
              </div>

              {/* Team Members */}
              <div>
                <p className="text-sm text-gray-600">Team Members</p>
                <div className="mt-2">
                  <div className="flex items-baseline">
                    <span className="text-2xl font-bold text-gray-900">
                      {usage.current.team_members}
                    </span>
                    <span className="ml-2 text-sm text-gray-500">
                      / {usage.limits.maxTeamMembers}
                    </span>
                  </div>
                  <div className="mt-2 w-full bg-gray-200 rounded-full h-2">
                    <div
                      className="bg-indigo-600 h-2 rounded-full"
                      style={{ width: `${(usage.current.team_members / usage.limits.maxTeamMembers) * 100}%` }}
                    />
                  </div>
                </div>
              </div>
            </div>

            <p className="mt-4 text-sm text-gray-500">
              Billing period: {new Date(usage.period.start).toLocaleDateString()} - {new Date(usage.period.end).toLocaleDateString()}
            </p>
          </div>

          {/* Invoices */}
          <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h2 className="text-xl font-semibold text-gray-900 mb-4 flex items-center">
              <DocumentTextIcon />
              Invoices
            </h2>

            <div className="overflow-x-auto">
              <table className="min-w-full divide-y divide-gray-200">
                <thead>
                  <tr>
                    <th className="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Invoice</th>
                    <th className="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Date</th>
                    <th className="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Amount</th>
                    <th className="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                    <th className="px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase">Actions</th>
                  </tr>
                </thead>
                <tbody className="divide-y divide-gray-200">
                  {invoices.map((invoice) => (
                    <tr key={invoice.id}>
                      <td className="px-4 py-3 text-sm text-gray-900">{invoice.invoice_number}</td>
                      <td className="px-4 py-3 text-sm text-gray-600">
                        {new Date(invoice.created_at).toLocaleDateString()}
                      </td>
                      <td className="px-4 py-3 text-sm font-medium text-gray-900">
                        ${(invoice.total / 100).toFixed(2)} {invoice.currency.toUpperCase()}
                      </td>
                      <td className="px-4 py-3 text-sm">
                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${
                          invoice.status === 'paid' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'
                        }`}>
                          {invoice.status}
                        </span>
                      </td>
                      <td className="px-4 py-3 text-sm text-right">
                        <a href={invoice.invoice_pdf} className="text-indigo-600 hover:text-indigo-500">
                          Download PDF
                        </a>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<BillingSettings />);
  </script>
</body>
</html>

07-03: Build Lifetime Subscription Option with One-Time Payment

## Goal
Add a lifetime subscription option as a one-time purchase alternative to recurring subscriptions.

## Requirements
- MONY-04: Lifetime subscription option available as one-time purchase

## Success Criteria
1. Lifetime option is displayed alongside subscription options
2. One-time payment grants permanent Pro access
3. Lifetime users have same access as monthly subscribers
4. Stripe checkout processes one-time payment correctly

## Implementation Plan

### 1. Add Lifetime Price to Config
```typescript
// apps/portal/src/config/stripe.ts
export const STRIPE_CONFIG = {
  // ... existing
  prices: {
    proMonthly: '...',
    proYearly: '...',
    lifetime: import.meta.env.VITE_STRIPE_PRICE_LIFETIME, // NEW
  },
};
```

### 2. Update Tier Types
```typescript
// packages/collaboration/src/types/tier.ts
export type SubscriptionTier = 'free' | 'pro';

// Pro tier includes both subscription and lifetime
// Difference tracked in subscription_type field
export type SubscriptionType = 'monthly' | 'yearly' | 'lifetime';

export interface UserSubscription {
  tier: SubscriptionTier;
  type: SubscriptionType;
  stripeCustomerId?: string;
  stripeSubscriptionId?: string; // null for lifetime
}
```

### 3. Update Checkout Hook
```typescript
// apps/portal/src/hooks/useStripeCheckout.ts
const redirectToCheckout = async (
  priceId: string,
  mode: 'subscription' | 'payment' // Support both modes
) => {
  const { error } = await stripe.redirectToCheckout({
    mode,
    lineItems: [{ price: priceId, quantity: 1 }],
    // ...
  });
};
```

### 4. Update PricingPage
```typescript
// apps/portal/src/pages/Pricing.tsx
- Add lifetime card: $XXX one-time, "Forever"
- Highlight "Best Value" for lifetime
- Calculate "X months until breakeven" comparison
- Use payment mode (not subscription) for lifetime
```

### 5. Backend Checkout Session Creation
```typescript
// Server-side checkout session creation
// For lifetime: mode = 'payment'
// For subscriptions: mode = 'subscription'
```

## Files to Create
- None (modifying existing)

## Files to Modify
- `apps/portal/src/config/stripe.ts` - Add lifetime price
- `packages/collaboration/src/types/tier.ts` - Add subscription type
- `apps/portal/src/hooks/useStripeCheckout.ts` - Support payment mode
- `apps/portal/src/pages/Pricing.tsx` - Add lifetime option
- Backend checkout endpoint - Support both modes

## Pricing Strategy
- Lifetime price = ~2-3 years of monthly subscription
- Example: $10/month â†’ $199 lifetime (20 months)
- Display savings compared to monthly

## Environment Variables Required
```
VITE_STRIPE_PRICE_LIFETIME=price_...
```

## Notes
- Lifetime users still have 'pro' tier
- Difference is subscription_type = 'lifetime'
- No stripe_subscription_id for lifetime
- Can still downgrade/upgrade logic applies differently

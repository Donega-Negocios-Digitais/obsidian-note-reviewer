09-03: Color Customization System

## Goal
Create color customization system allowing users to personalize accent colors.

## Requirements
- DSGN-03: User can customize accent colors for personalization

## Success Criteria
1. User can select from preset color options
2. Custom colors can be selected via color picker
3. Color preference persists across sessions
4. All components use user's accent color
5. Colors work in both light and dark themes

## Color Presets

### Default Accent Colors
```typescript
const accentColors = [
  { name: 'Blue', value: '#3b82f6', hsl: '217 91% 60%' },
  { name: 'Purple', value: '#8b5cf6', hsl: '262 83% 58%' },
  { name: 'Pink', value: '#ec4899', hsl: '330 81% 60%' },
  { name: 'Red', value: '#ef4444', hsl: '0 84% 60%' },
  { name: 'Orange', value: '#f97316', hsl: '25 95% 53%' },
  { name: 'Yellow', value: '#eab308', hsl: '48 96% 53%' },
  { name: 'Green', value: '#22c55e', hsl: '142 76% 36%' },
  { name: 'Teal', value: '#14b8a6', hsl: '174 72% 56%' },
  { name: 'Cyan', value: '#06b6d4', hsl: '188 94% 43%' },
  { name: 'Indigo', value: '#6366f1', hsl: '239 84% 67%' },
];
```

## Color Generation

### Generate Color Variants
```typescript
function generateAccentVariants(baseColor: string): AccentVariants {
  const hsl = hexToHSL(baseColor);

  return {
    50: adjustHSL(hsl, 0, 95),
    100: adjustHSL(hsl, 0, 90),
    200: adjustHSL(hsl, 0, 80),
    300: adjustHSL(hsl, 0, 70),
    400: adjustHSL(hsl, 0, 60),
    500: baseColor, // Base
    600: adjustHSL(hsl, 0, -10),
    700: adjustHSL(hsl, 0, -20),
    800: adjustHSL(hsl, 0, -30),
    900: adjustHSL(hsl, 0, -40),
    950: adjustHSL(hsl, 0, -45),
  };
}
```

### HSL Utilities
```typescript
function hexToHSL(hex: string): { h: number; s: number; l: number } {
  // Convert hex to HSL
}

function adjustHSL(
  hsl: { h: number; s: number; l: number },
  hDelta: number,
  lDelta: number
): string {
  // Adjust lightness/saturation
  return `hsl(${hsl.h + hDelta} ${hsl.s}% ${Math.max(0, Math.min(100, hsl.l + lDelta))}%)`;
}
```

## Storage

### localStorage Key
```typescript
const ACCENT_COLOR_KEY = 'obsreview-accent-color';
```

### Schema
```typescript
interface AccentColorPreference {
  preset: string | null; // Preset name or null for custom
  custom: string | null; // Hex color for custom
}
```

## Implementation

### useAccentColor Hook
```typescript
export function useAccentColor() {
  const [accentColor, setAccentColor] = useState<string>('#3b82f6');
  const [isCustom, setIsCustom] = useState(false);

  useEffect(() => {
    const stored = localStorage.getItem(ACCENT_COLOR_KEY);
    if (stored) {
      const { preset, custom } = JSON.parse(stored);
      if (custom) {
        setAccentColor(custom);
        setIsCustom(true);
      } else if (preset) {
        const color = accentColors.find(c => c.name === preset);
        if (color) setAccentColor(color.value);
      }
    }
  }, []);

  const setAccent = (color: string) => {
    setAccentColor(color);
    localStorage.setItem(ACCENT_COLOR_KEY, JSON.stringify({
      preset: isCustom ? null : accentColors.find(c => c.value === color)?.name,
      custom: isCustom ? color : null,
    }));

    // Update CSS variable
    document.documentElement.style.setProperty('--accent', color);
    document.documentElement.style.setProperty('--accent-foreground', getAccentForeground(color));
  };

  return { accentColor, setAccent, isCustom, accentColors };
}
```

### Color Settings Component
```typescript
export function AccentColorSettings() {
  const { accentColor, setAccent, accentColors } = useAccentColor();

  return (
    <div className="space-y-4">
      {/* Preset colors grid */}
      <div className="grid grid-cols-5 gap-2">
        {accentColors.map((color) => (
          <button
            key={color.value}
            onClick={() => setAccent(color.value)}
            className={cn(
              "w-10 h-10 rounded-full transition-transform hover:scale-110",
              accentColor === color.value && "ring-2 ring-offset-2 ring-offset-background"
            )}
            style={{ backgroundColor: color.value }}
          />
        ))}
      </div>

      {/* Custom color picker */}
      <input
        type="color"
        value={accentColor}
        onChange={(e) => setAccent(e.target.value)}
        className="w-full h-10 rounded-lg cursor-pointer"
      />
    </div>
  );
}
```

## CSS Variables

### Dynamic Accent Colors
```css
:root {
  --accent: 217 91% 60%;
  --accent-foreground: 0 0% 100%;
}

/* Components use accent via Tailwind */
.bg-accent { background-color: hsl(var(--accent)); }
.text-accent { color: hsl(var(--accent)); }
```

### Tailwind Config
```javascript
module.exports = {
  theme: {
    extend: {
      colors: {
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
      },
    },
  },
}
```

## Files to Create
- `packages/ui/src/theme/colors.ts` - Color utilities
- `packages/ui/src/hooks/useAccentColor.ts` - Accent color hook
- `apps/portal/src/components/AccentColorSettings.tsx` - Settings UI

## Files to Modify
- `apps/portal/src/pages/Settings.tsx` - Add accent color section
- `apps/portal/src/index.css` - Add accent CSS variables

## Notes
- Generate text color based on contrast ratio
- Darker accent needs light foreground
- Lighter accent needs dark foreground
- Smooth transition when color changes
- Update CSS variables immediately
